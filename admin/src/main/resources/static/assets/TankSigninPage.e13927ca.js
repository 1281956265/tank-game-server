import{d as O,aP as U,aq as j,aQ as A,r,as as S,h as M,a as V,b as a,w as s,s as G,m as k,e as i,t as u,F as Q,o as E,q as W,aR as Z,j as _,at as H,a5 as P,k as e,a4 as F,aO as T,p as w,Z as $,aN as B,av as J,aw as X,aS as Y,_ as ee}from"./index.78d81d6b.js";import{V as ae}from"./VForm.1e1caf1d.js";const oe={class:"text-grey text-center text-caption font-weight-bold text-uppercase my-5"},re={key:0,class:"error--text my-2"},se={class:"mt-5 text-center"},te={class:"text-center mt-6"},ne=O({__name:"TankSigninPage",setup(le){const{t:h}=U(),f=j(),N=A(),z=r(null),I=r(null),q=r(null),m=r(!1),c=r(!1),g=r(""),p=r(""),y=r(!1),C=r(""),K=r(!1),R=r(""),b=r(!1),n=S({labelColor:"3B64A0",mainColor:"#3F69F4",borderColor:"#42a5f5",bgColor:"#fff",density:"default",variant:"underlined"});S({required:o=>o&&Boolean(o)||"Required"});const v=async()=>{L(g.value,p.value)},L=async(o,t)=>{if(B.isEmpty(o)){f.showErrorSnackbar(h("notice.loginNameEmptyError"));return}if(B.isEmpty(t)){f.showErrorSnackbar(h("notice.loginPasswordEmptyError"));return}m.value=!0,c.value=!0;const l=await J.post(X+"/api/signIn",{userName:o,password:t}).catch(D=>{f.showErrorSnackbar(D)}).finally(()=>{m.value=!1,c.value=!1}),d=l.data.code;if(d!=1){f.showErrorSnackbar(l.data.message,d);return}f.showSuccessSnackbar(l.data.message),m.value=!1,c.value=!1,console.log(l),Y(l.data.data.token),console.log("************************************************"),N.push({path:"/"})},x=()=>{y.value=!1,C.value=""};return(o,t)=>{const l=M("router-link");return E(),V(Q,null,[a(G,{class:"pa-3",elevation:"3"},{default:s(()=>[a(W,{"primary-title":"",class:"my-4 text-h4"},{default:s(()=>[i(" Welcome")]),_:1}),a(Z,null,{default:s(()=>[i("Sign in to your account")]),_:1}),_(" sign in form "),a(H,null,{default:s(()=>[a(ae,{ref_key:"refLoginForm",ref:z,class:"text-left","lazy-validation":""},{default:s(()=>[a(P,{ref_key:"refEmail",ref:I,modelValue:e(g),"onUpdate:modelValue":t[0]||(t[0]=d=>F(g)?g.value=d:null),required:"",error:e(y),label:o.$t("user.account"),density:e(n).density,variant:e(n).variant,color:e(n).borderColor,"bg-color":e(n).bgColor,name:"email",outlined:"",validateOn:"blur",onKeyup:T(v,["enter"]),onChange:x},null,8,["modelValue","error","label","density","variant","color","bg-color","onKeyup"]),a(P,{ref_key:"refPassword",ref:q,modelValue:e(p),"onUpdate:modelValue":t[1]||(t[1]=d=>F(p)?p.value=d:null),"append-inner-icon":e(b)?"mdi-eye":"mdi-eye-off",type:e(b)?"text":"password",error:e(y),"error-messages":e(C),label:o.$t("user.password"),density:e(n).density,variant:e(n).variant,color:e(n).borderColor,"bg-color":e(n).bgColor,name:"password",outlined:"",validateOn:"blur",onChange:x,onKeyup:T(v,["enter"]),"onClick:appendInner":t[2]||(t[2]=d=>b.value=!e(b))},null,8,["modelValue","append-inner-icon","type","error","error-messages","label","density","variant","color","bg-color","onKeyup"]),a(w,{loading:e(m),disabled:e(c),block:"",size:"x-large",color:"primary",onClick:v,class:"mt-2"},{default:s(()=>[i(u(o.$t("login.button")),1)]),_:1},8,["loading","disabled"]),k("div",oe,u(o.$t("login.orsign")),1),_(" external providers list "),a(w,{class:"mb-2 lighten-2 text-capitalize",block:"",size:"x-large",to:"/",disabled:e(c)},{default:s(()=>[a(e($),{icon:"logos:google-icon",class:"mr-3 my-2"}),i(" Google ")]),_:1},8,["disabled"]),a(w,{class:"mb-2 lighten-2 text-capitalize",block:"",size:"x-large",to:"/",disabled:e(c)},{default:s(()=>[a(e($),{icon:"logos:facebook",class:"mr-3"}),i(" Facebook ")]),_:1},8,["disabled"]),e(K)?(E(),V("div",re,u(e(R)),1)):_("v-if",!0),k("div",se,[a(l,{class:"text-primary",to:"/auth/forgot-password"},{default:s(()=>[i(u(o.$t("login.forgot")),1)]),_:1})])]),_:1},512)]),_:1})]),_:1}),k("div",te,[i(u(o.$t("login.noaccount"))+" ",1),a(l,{to:"/auth/signup",class:"text-primary font-weight-bold"},{default:s(()=>[i(u(o.$t("login.create")),1)]),_:1})])],64)}}}),ce=ee(ne,[["__file","D:/Project/tank-game-server-ts/admin-vue3-ts/src/views/tank/TankSigninPage.vue"]]);export{ce as default};
